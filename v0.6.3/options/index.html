<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Solver options · ConstraintSolver</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ConstraintSolver logo"/></a><div class="docs-package-name"><span class="docs-autofit">ConstraintSolver</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../how_to/">How-To</a></li><li class="is-active"><a class="tocitem" href>Solver options</a><ul class="internal"><li><a class="tocitem" href="#logging-([:Info,-:Table])"><span><code>logging</code> (<code>[:Info, :Table]</code>)</span></a></li><li><a class="tocitem" href="#table-(TableSetup(...))"><span><code>table</code> (<code>TableSetup(...)</code>)</span></a></li><li><a class="tocitem" href="#time_limit-(Inf)"><span><code>time_limit</code> (<code>Inf</code>)</span></a></li><li><a class="tocitem" href="#seed-(1)"><span><code>seed</code> (<code>1</code>)</span></a></li><li><a class="tocitem" href="#rtol-(1e-6)"><span><code>rtol</code> (<code>1e-6</code>)</span></a></li><li><a class="tocitem" href="#atol-(1e-6)"><span><code>atol</code> (<code>1e-6</code>)</span></a></li><li><a class="tocitem" href="#lp_optimizer-(nothing)"><span><code>lp_optimizer</code> (<code>nothing</code>)</span></a></li><li><a class="tocitem" href="#traverse_strategy-(:Auto)"><span><code>traverse_strategy</code> (<code>:Auto</code>)</span></a></li><li><a class="tocitem" href="#branch_strategy-(:Auto)"><span><code>branch_strategy</code> (<code>:Auto</code>)</span></a></li><li><a class="tocitem" href="#activity"><span><code>activity</code></span></a></li><li><a class="tocitem" href="#branch_split-(:Auto)"><span><code>branch_split</code> (<code>:Auto</code>)</span></a></li><li><a class="tocitem" href="#simplify-(True)"><span><code>simplify</code> (<code>True</code>)</span></a></li><li><a class="tocitem" href="#all_solutions-(false)"><span><code>all_solutions</code> (<code>false</code>)</span></a></li><li><a class="tocitem" href="#all_optimal_solutions-(false)"><span><code>all_optimal_solutions</code> (<code>false</code>)</span></a></li><li><a class="tocitem" href="#backtrack-(true)"><span><code>backtrack</code> (<code>true</code>)</span></a></li><li><a class="tocitem" href="#max_bt_steps-(typemax(Int))"><span><code>max_bt_steps</code> (<code>typemax(Int)</code>)</span></a></li><li><a class="tocitem" href="#backtrack_sorting-(true)"><span><code>backtrack_sorting</code> (<code>true</code>)</span></a></li><li><a class="tocitem" href="#keep_logs-(false)"><span><code>keep_logs</code> (<code>false</code>)</span></a></li><li><a class="tocitem" href="#solution_type-(Float64)"><span><code>solution_type</code> (<code>Float64</code>)</span></a></li></ul></li><li><a class="tocitem" href="../supported/">Supported/Planned</a></li><li><a class="tocitem" href="../explanation/">Explanation</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Solver options</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Solver options</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Wikunia/ConstraintSolver.jl/blob/master/docs/src/options.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Solver-options"><a class="docs-heading-anchor" href="#Solver-options">Solver options</a><a id="Solver-options-1"></a><a class="docs-heading-anchor-permalink" href="#Solver-options" title="Permalink"></a></h1><p>This documentation lists all solver options and the default value in <code>()</code></p><p>In general these options can be set as follows if you&#39;re using JuMP:</p><pre><code class="language-none">m = Model(optimizer_with_attributes(CS.Optimizer, &quot;option_name&quot;=&gt;option_value))</code></pre><h2 id="logging-([:Info,-:Table])"><a class="docs-heading-anchor" href="#logging-([:Info,-:Table])"><code>logging</code> (<code>[:Info, :Table]</code>)</a><a id="logging-([:Info,-:Table])-1"></a><a class="docs-heading-anchor-permalink" href="#logging-([:Info,-:Table])" title="Permalink"></a></h2><p>Current possible symbols</p><ul><li>:Info<ul><li>Shows info about how many variables are part of the model</li><li>Info about which constraints are present in the model</li></ul></li><li>:Table<ul><li>Shows a table about the current solver status</li></ul></li></ul><p>Output will be something like</p><pre><code class="language-none"># Variables: 5
# Constraints: 2
 - # Inequality: 2

   #Open      #Closed         Incumbent             Best Bound        Time [s]  
================================================================================
     2           0                -                   44.20            0.0003  </code></pre><h2 id="table-(TableSetup(...))"><a class="docs-heading-anchor" href="#table-(TableSetup(...))"><code>table</code> (<code>TableSetup(...)</code>)</a><a id="table-(TableSetup(...))-1"></a><a class="docs-heading-anchor-permalink" href="#table-(TableSetup(...))" title="Permalink"></a></h2><p>Defines the exact table setup. The actual default is:</p><pre><code class="language-none">TableSetup(
        [:open_nodes, :closed_nodes, :incumbent, :best_bound, :duration],
        [&quot;#Open&quot;, &quot;#Closed&quot;, &quot;Incumbent&quot;, &quot;Best Bound&quot;, &quot;[s]&quot;],
        [10,10,20,20,10]; 
        min_diff_duration=5.0
)</code></pre><p>which means that the open/closed nodes, the incumbent and the best bound is shown besides the duration of the optimization process. </p><ul><li><code>[10,10,20,20,10]</code> gives the width of each column</li><li><code>min_diff_duration=5.0</code> =&gt; a new row is added every 5 seconds or if a new solution was found.</li></ul><p>For satisfiability problems the incumbent and best bound are <code>0</code> so you could remove them. I&#39;ll probably add that ;)</p><h2 id="time_limit-(Inf)"><a class="docs-heading-anchor" href="#time_limit-(Inf)"><code>time_limit</code> (<code>Inf</code>)</a><a id="time_limit-(Inf)-1"></a><a class="docs-heading-anchor-permalink" href="#time_limit-(Inf)" title="Permalink"></a></h2><p>Time limit for backtracking in seconds. If reached before the problem was solved or infeasibility was proven will return the status <code>MOI.TIME_LIMIT</code>.</p><h2 id="seed-(1)"><a class="docs-heading-anchor" href="#seed-(1)"><code>seed</code> (<code>1</code>)</a><a id="seed-(1)-1"></a><a class="docs-heading-anchor-permalink" href="#seed-(1)" title="Permalink"></a></h2><p>Some parts of the constraint solver use random numbers. Nevertheless everything should be reproducable which is the default case. You can make it &quot;truly&quot; random by setting a random <code>seed</code>.</p><h2 id="rtol-(1e-6)"><a class="docs-heading-anchor" href="#rtol-(1e-6)"><code>rtol</code> (<code>1e-6</code>)</a><a id="rtol-(1e-6)-1"></a><a class="docs-heading-anchor-permalink" href="#rtol-(1e-6)" title="Permalink"></a></h2><p>Defines the relative tolerance of the solver.</p><h2 id="atol-(1e-6)"><a class="docs-heading-anchor" href="#atol-(1e-6)"><code>atol</code> (<code>1e-6</code>)</a><a id="atol-(1e-6)-1"></a><a class="docs-heading-anchor-permalink" href="#atol-(1e-6)" title="Permalink"></a></h2><p>Defines the absolute tolerance of the solver.</p><h2 id="lp_optimizer-(nothing)"><a class="docs-heading-anchor" href="#lp_optimizer-(nothing)"><code>lp_optimizer</code> (<code>nothing</code>)</a><a id="lp_optimizer-(nothing)-1"></a><a class="docs-heading-anchor-permalink" href="#lp_optimizer-(nothing)" title="Permalink"></a></h2><p>It is advised to use a linear problem solver like <a href="https://github.com/JuliaOpt/Cbc.jl">Cbc.jl</a> if you have a lot of linear constraints and an optimization problem. The solver is used to compute bounds in the optimization steps.</p><h2 id="traverse_strategy-(:Auto)"><a class="docs-heading-anchor" href="#traverse_strategy-(:Auto)"><code>traverse_strategy</code> (<code>:Auto</code>)</a><a id="traverse_strategy-(:Auto)-1"></a><a class="docs-heading-anchor-permalink" href="#traverse_strategy-(:Auto)" title="Permalink"></a></h2><p>You can chose a traversal strategy for you model with this option. The default is choosing depending on the model. In feasibility problems depth first search is chosen and in optimization problems best first search. Other options:</p><ul><li><code>:BFS</code> =&gt; Best First Search</li><li><code>:DFS</code> =&gt; Depth First Search</li><li><code>:DBFS</code> =&gt; Depth First Search until solution was found then Best First Search</li></ul><h2 id="branch_strategy-(:Auto)"><a class="docs-heading-anchor" href="#branch_strategy-(:Auto)"><code>branch_strategy</code> (<code>:Auto</code>)</a><a id="branch_strategy-(:Auto)-1"></a><a class="docs-heading-anchor-permalink" href="#branch_strategy-(:Auto)" title="Permalink"></a></h2><p>You can chose a branch strategy for you model with this option.</p><p><strong>Options:</strong></p><ul><li><code>:IMPS</code> =&gt; Infeasible and Minimum Possibility Search<ul><li>This is currently the automatic default</li><li>Chooses the next variable based on <ul><li>whether the variable is part of the objective function</li><li>an infeasibility counter for each variable</li><li>the number of open possibilities</li></ul></li></ul></li><li><code>:ABS</code> =&gt; <a href="https://arxiv.org/pdf/1105.6314.pdf">Activity Based Search</a><ul><li>It is based on that paper but doesn&#39;t implement value selection. For further options see <code>activity</code></li></ul></li></ul><h2 id="activity"><a class="docs-heading-anchor" href="#activity"><code>activity</code></a><a id="activity-1"></a><a class="docs-heading-anchor-permalink" href="#activity" title="Permalink"></a></h2><p>The following options can be set with <code>activity.</code> i.e <code>&quot;activity.decay&quot; =&gt; 0.9</code>. These options are only taken into consideration when the <code>branch_strategy</code> option is set to <code>:ABS</code></p><h3 id="decay-(0.999)"><a class="docs-heading-anchor" href="#decay-(0.999)"><code>decay</code> (0.999)</a><a id="decay-(0.999)-1"></a><a class="docs-heading-anchor-permalink" href="#decay-(0.999)" title="Permalink"></a></h3><p>The activity of variables decays when they are not used in the current node. In the following it is written as <span>$\gamma$</span>. <span>$X$</span> are the variables and <span>$X^{\prime}$</span> denotes variables that have been changed.  <span>$D(x)$</span> is the domain of the variable <span>$x$</span> and  <span>$A(x)$</span> is the activity.</p><p class="math-container">\[\begin{aligned}
\forall x \in X&amp; \text { s.t. } |D(x)| &gt; 1 &amp;: A(x) = A(x) \cdot \gamma \\
\forall x \in X^{\prime}&amp; &amp;: A(x)=A(x)+1
\end{aligned}\]</p><h3 id="max_probes-(10)"><a class="docs-heading-anchor" href="#max_probes-(10)"><code>max_probes</code> (<code>10</code>)</a><a id="max_probes-(10)-1"></a><a class="docs-heading-anchor-permalink" href="#max_probes-(10)" title="Permalink"></a></h3><p>When activity based search is selected the search space gets probed by using a random variable selection strategy to initialize the activity of each variable.</p><p>The probing can be stopped by either hitting <code>max_probes</code> or when one can be confident to a certain degree that the approximated activity is good enough. (see <code>max_confidence_deviation</code>)</p><h3 id="max_confidence_deviation-(20)"><a class="docs-heading-anchor" href="#max_confidence_deviation-(20)"><code>max_confidence_deviation</code> (<code>20</code>)</a><a id="max_confidence_deviation-(20)-1"></a><a class="docs-heading-anchor-permalink" href="#max_confidence_deviation-(20)" title="Permalink"></a></h3><p>Probing as explained in <code>max_probes</code> can be stopped when each variable has an approximated activity when is in a specified bound. The bound can be changed using this option.</p><p>More precisely probing is stopped when this range</p><p class="math-container">\[\left[\tilde{\mu_{A}}(x)-t_{0.05, n-1} \cdot \frac{\tilde{\sigma_{A}}(x)}{\sqrt{n}}, \tilde{\mu_{A}}(x)+t_{0.05, n-1} \cdot \frac{\tilde{\sigma_{A}}(x)}{\sqrt{n}}\right]\]</p><p>is within <span>$\pm$</span> <code>max_confidence_deviation</code> % of the empirical mean.</p><h2 id="branch_split-(:Auto)"><a class="docs-heading-anchor" href="#branch_split-(:Auto)"><code>branch_split</code> (<code>:Auto</code>)</a><a id="branch_split-(:Auto)-1"></a><a class="docs-heading-anchor-permalink" href="#branch_split-(:Auto)" title="Permalink"></a></h2><p>You can define how the variable is split into two branches with this option.  Normally the smallest value is chosen for satisfiability problems and depending on the coefficient of the variable in the objective either the smallest or biggest is chosen as a single choice for optimization problems. Other options:</p><ul><li><code>:Smallest</code> Smallest value on the left branch and rest on the right branch</li><li><code>:Biggest</code> same as smallest but splits into biggest value as a single choice and the rest the second choice</li><li><code>:InHalf</code> takes the mean value to split the problem into two branches of equal size</li></ul><h2 id="simplify-(True)"><a class="docs-heading-anchor" href="#simplify-(True)"><code>simplify</code> (<code>True</code>)</a><a id="simplify-(True)-1"></a><a class="docs-heading-anchor-permalink" href="#simplify-(True)" title="Permalink"></a></h2><p>Defines whether the solver should spend some time and effort to simplify constraints. Curently this works for the following:</p><ul><li>combining <code>!=</code> constraints to all different constraints</li><li>combining <code>sum(x) == V</code> overlapping all different constraints to introduce more constraints</li><li>combining <code>x .&gt;= y</code> constraints to a <code>GeqSet</code> constraint which helps with bound computation</li></ul><p>It can be turned off to not waste time if this isn&#39;t applicable or not wanted for whatever reason.</p><h2 id="all_solutions-(false)"><a class="docs-heading-anchor" href="#all_solutions-(false)"><code>all_solutions</code> (<code>false</code>)</a><a id="all_solutions-(false)-1"></a><a class="docs-heading-anchor-permalink" href="#all_solutions-(false)" title="Permalink"></a></h2><p>You can set this to <code>true</code> to get <strong>all feasible</strong> solutions. This can be used to get all solutions for a sudoku for example but maybe shouldn&#39;t be used for an optimization problem. Nevertheless I leave it here so you be able to use it even for optimization problems and get all feasible solutions.</p><p>Look at <code>all_optimal_solutions</code> if you only want all solutions with the same optimum.</p><h2 id="all_optimal_solutions-(false)"><a class="docs-heading-anchor" href="#all_optimal_solutions-(false)"><code>all_optimal_solutions</code> (<code>false</code>)</a><a id="all_optimal_solutions-(false)-1"></a><a class="docs-heading-anchor-permalink" href="#all_optimal_solutions-(false)" title="Permalink"></a></h2><p>You can set this to <code>true</code> to get <strong>optimal solutions</strong>. If you have a feasibility problem you can also use <code>all_solutions</code> but for optimization problems this will only return solutions with the same best incumbent.</p><h2 id="backtrack-(true)"><a class="docs-heading-anchor" href="#backtrack-(true)"><code>backtrack</code> (<code>true</code>)</a><a id="backtrack-(true)-1"></a><a class="docs-heading-anchor-permalink" href="#backtrack-(true)" title="Permalink"></a></h2><p>To solve the problem completely normally backtracking needs to be used but for some problems like certain sudokus this might not be necessary. This option is mostly there for debugging reasons to check the search space before backtracking starts.</p><h2 id="max_bt_steps-(typemax(Int))"><a class="docs-heading-anchor" href="#max_bt_steps-(typemax(Int))"><code>max_bt_steps</code> (<code>typemax(Int)</code>)</a><a id="max_bt_steps-(typemax(Int))-1"></a><a class="docs-heading-anchor-permalink" href="#max_bt_steps-(typemax(Int))" title="Permalink"></a></h2><p>You can set the maximum amount of backtracking steps with this option. Probably you only want to change this if you want to debug some stuff.</p><h2 id="backtrack_sorting-(true)"><a class="docs-heading-anchor" href="#backtrack_sorting-(true)"><code>backtrack_sorting</code> (<code>true</code>)</a><a id="backtrack_sorting-(true)-1"></a><a class="docs-heading-anchor-permalink" href="#backtrack_sorting-(true)" title="Permalink"></a></h2><p>If set to true the order of new nodes is determined by their best bound. Otherwise they will be traversed in order they were added to the stack.</p><h2 id="keep_logs-(false)"><a class="docs-heading-anchor" href="#keep_logs-(false)"><code>keep_logs</code> (<code>false</code>)</a><a id="keep_logs-(false)-1"></a><a class="docs-heading-anchor-permalink" href="#keep_logs-(false)" title="Permalink"></a></h2><p>Sometimes you might be interested in the exact way the problem got solved then you can set this option to <code>true</code> to get the full search tree.</p><p>To save the logs as a json file you need to run:</p><pre><code class="language-none">m = Model()
...
com = CS.get_inner_model(m)

CS.save_logs(com, &quot;FILENAME.json&quot;)</code></pre><p>Additionally because the mapping from JuMP can be different to your internal mapping you can use:</p><pre><code class="language-none">CS.save_logs(com, &quot;FILENAME.json&quot;, :x =&gt; x)</code></pre><p>if <code>x</code> is/are your variable/variables and if you have more variables:</p><pre><code class="language-none">CS.save_logs(com, &quot;FILENAME.json&quot;, :x =&gt; x, :y =&gt; y)</code></pre><p>etc...</p><h2 id="solution_type-(Float64)"><a class="docs-heading-anchor" href="#solution_type-(Float64)"><code>solution_type</code> (<code>Float64</code>)</a><a id="solution_type-(Float64)-1"></a><a class="docs-heading-anchor-permalink" href="#solution_type-(Float64)" title="Permalink"></a></h2><p>Defines the type of <code>best_bound</code> and <code>incumbent</code>. Normally you don&#39;t want to change this as JuMP only works with <code>Float</code> but if you work directly using MathOptInterface you can use this option.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../how_to/">« How-To</a><a class="docs-footer-nextpage" href="../supported/">Supported/Planned »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 17 January 2021 11:08">Sunday 17 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
